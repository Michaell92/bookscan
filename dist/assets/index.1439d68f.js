import{r as v,o as d,c as _,a as t,b as h,w as S,p as x,d as C,e as V,F as T,f as R,g as I,h as L,t as w,s as j,i as p,j as z,k as D,l as H,v as G,n as f,m as q,q as W,u as U,x as b,y as Q,z as Y,A as Z,B as J,C as X,D as ee,E as te}from"./vendor.778c391c.js";const oe=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}};oe();var re="/assets/logo.c04f2bbc.svg";var m=(r,o)=>{const i=r.__vccOpts||r;for(const[e,n]of o)i[e]=n;return i};const ne={},se=r=>(x("data-v-991ba240"),r=r(),C(),r),ae={class:"container"},ie=se(()=>t("div",{id:"logo"},[t("img",{src:re,alt:"bookscan"}),t("h1",null,"Bookscan")],-1));function ce(r,o){const i=v("router-link");return d(),_("div",ae,[t("header",null,[t("nav",null,[h(i,{to:"/"},{default:S(()=>[ie]),_:1})])])])}var le=m(ne,[["render",ce],["__scopeId","data-v-991ba240"]]);const de={},B=r=>(x("data-v-a63e1974"),r=r(),C(),r),ue=B(()=>t("span",null,"Created by Michael",-1)),_e=B(()=>t("span",null,"\xA9 2021 Bookscan, All Rights Reserved",-1)),ve=B(()=>t("a",null,"Github",-1)),he=[ue,_e,ve];function fe(r,o){return d(),_("footer",null,he)}var ge=m(de,[["render",fe],["__scopeId","data-v-a63e1974"]]);const N=V("books",{state(){return{books:[],apiKey:"AIzaSyDiFVnnht3SMzWQc0GZxC7GC8rY5EzSbag"}},actions:{addBooks(r){this.books=[...r]}},getters:{defaultApiKey:r=>`https://www.googleapis.com/books/v1/volumes?q=intitle:&key=${r.apiKey}`}});const pe={components:{TheHeader:le,TheFooter:ge},setup(){const r=N();console.log(r)}};function me(r,o,i,e,n,a){const c=v("the-header"),l=v("router-view"),s=v("the-footer");return d(),_("div",null,[h(c),h(l),h(s)])}var ye=m(pe,[["render",me]]);const ke="modulepreload",F={},we="/",be=function(o,i){return!i||i.length===0?o():Promise.all(i.map(e=>{if(e=`${we}${e}`,e in F)return;F[e]=!0;const n=e.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":ke,n||(c.as="script",c.crossOrigin=""),c.href=e,document.head.appendChild(c),n)return new Promise((l,s)=>{c.addEventListener("load",l),c.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>o())};const Se={props:{id:{type:String,required:!0},title:{type:String,required:!0},authors:{type:Array,required:!1},image:{type:String,required:!1},description:{type:String,required:!1},categories:{type:Array,required:!1},averageRating:{type:Number,required:!1},ratingsCount:{type:Number,required:!1},preview:{type:String,required:!1}},data(){return{hoverActive:!1}},watch:{},computed:{categoriesFinal(){return this.categories?this.categories.join(", "):""},authorsFinal(){return this.authors?this.authors.join(", "):""},ratingFloor(){return Math.floor(this.averageRating)},reviewLink(){return`https://books.google.com/books?id=${this.id}&sitesec=reviews`}},methods:{}},Ie=["id"],xe={key:0,class:"rating font-s"},Ce=["href"],Be=["href"],Ae={key:1,class:"font-s alt-rating"},$e={id:"info"},Le={class:"title"},Fe=["src","alt"],Te={key:2,class:"bottom"},Re={key:3};function qe(r,o,i,e,n,a){const c=v("font-awesome-icon"),l=v("router-link");return d(),_("div",{class:"wrapper",onMouseover:o[0]||(o[0]=s=>n.hoverActive=!0),onMouseleave:o[1]||(o[1]=s=>n.hoverActive=!1)},[t("div",{class:"main-card",id:i.id},[a.ratingFloor>0?(d(),_("div",xe,[t("a",{href:a.reviewLink,target:"_blank",class:"stars"},[t("div",null,[(d(!0),_(T,null,R(a.ratingFloor,s=>(d(),I(c,{key:s,icon:"star"}))),128))]),i.averageRating>a.ratingFloor?(d(),I(c,{key:0,icon:"star-half-alt",style:{"margin-top":"-1px"}})):L("",!0)],8,Ce),t("a",{href:a.reviewLink,target:"_blank",id:"ratingNumber"},w(i.ratingsCount),9,Be)])):(d(),_("span",Ae,"No reviews")),t("div",$e,[h(l,{to:i.id},{default:S(()=>[t("h4",Le,w(i.title),1)]),_:1},8,["to"]),h(l,{to:i.id},{default:S(()=>[i.image.length>1?(d(),_("img",{key:0,src:i.image,alt:i.title},null,8,Fe)):L("",!0)]),_:1},8,["to"])]),a.categoriesFinal||a.authorsFinal?(d(),_("div",Te,[t("span",null,w(a.categoriesFinal),1),t("span",null,w(a.authorsFinal),1)])):(d(),_("div",Re,"No info"))],8,Ie)],32)}var Ne=m(Se,[["render",qe],["__scopeId","data-v-2a9bbc7c"]]);const Ee={components:{BookResource:Ne},setup(){const r=N(),{books:o}=j(r),i=r.apiKey,e=r.defaultApiKey,n=p(""),a=p("intitle"),c=p("relevance"),l=p(0),s=p(!1),k=z(()=>`https://www.googleapis.com/books/v1/volumes?q=${a.value}:${n.value}&orderBy=${c.value}&startIndex=${l.value}&key=${i}`);D(n,u=>{setTimeout(()=>{u===n.value&&g(k.value)},1e3)});async function g(u){try{s.value=!0;const $=(await q.get(u)).data;$.items.length>0&&r.addBooks($.items),s.value=!1}catch(A){console.log(A)}}const O=function(u){a.value=u,g(k.value)},P=function(u){c.value=u,g(k.value)},K=function(u){u==="add"?l.value=l.value+10:l.value>9&&(l.value=l.value-10),g(k.value)},M=function(u){return u.imageLinks?u.imageLinks.thumbnail:""};return g(e),{allBooks:o,searchType:a,searchInput:n,searchOrder:c,activeBar:s,changeSearchType:O,sortBooks:P,changeIndex:K,imageLink:M}}},E=r=>(x("data-v-0e35d146"),r=r(),C(),r),Oe={id:"top-nav"},Pe={id:"search-type",class:"category"},Ke=E(()=>t("h3",null,"Search by:",-1)),Me={id:"sort",class:"category"},Ve=E(()=>t("h3",null,"Sort by:",-1)),je={class:"progress-bar"},ze={class:"container"},De={id:"listPages"},He={id:"books"};function Ge(r,o,i,e,n,a){const c=v("font-awesome-icon"),l=v("book-resource");return d(),_("div",null,[t("div",Oe,[t("div",null,[H(t("input",{type:"search",id:"searchBar",placeholder:"Search any book...","onUpdate:modelValue":o[0]||(o[0]=s=>e.searchInput=s)},null,512),[[G,e.searchInput]]),t("div",Pe,[Ke,t("button",{onClick:o[1]||(o[1]=s=>e.changeSearchType("intitle")),class:f({active:e.searchType==="intitle"})},"Title",2),t("button",{onClick:o[2]||(o[2]=s=>e.changeSearchType("inauthor")),class:f({active:e.searchType==="inauthor"})},"Author",2),t("button",{onClick:o[3]||(o[3]=s=>e.changeSearchType("subject")),class:f({active:e.searchType==="subject"})},"Category",2)])]),t("div",Me,[Ve,t("button",{onClick:o[4]||(o[4]=s=>e.sortBooks("relevance")),class:f({active:e.searchOrder==="relevance"})},"Most relevant",2),t("button",{onClick:o[5]||(o[5]=s=>e.sortBooks("newest")),class:f({active:e.searchOrder==="newest"})},"Newest",2)])]),t("div",je,[t("div",{class:f(["bar",{"bar-1":e.activeBar}])},null,2),t("div",{class:f(["bar",{"bar-2":e.activeBar}])},null,2)]),t("main",ze,[t("div",De,[t("div",{class:"wrapper-arrow",onClick:o[6]||(o[6]=s=>e.changeIndex())},[h(c,{icon:"arrow-left"})]),t("div",{class:"wrapper-arrow",onClick:o[7]||(o[7]=s=>e.changeIndex("add"))},[h(c,{icon:"arrow-right"})])]),t("div",He,[(d(!0),_(T,null,R(e.allBooks,s=>(d(),I(l,{key:s.id,id:s.id,title:s.volumeInfo.title,authors:s.volumeInfo.authors,image:e.imageLink(s.volumeInfo),categories:s.volumeInfo.categories,averageRating:s.volumeInfo.averageRating,ratingsCount:s.volumeInfo.ratingsCount,preview:s.volumeInfo.previewLink},null,8,["id","title","authors","image","categories","averageRating","ratingsCount","preview"]))),128))])])])}var We=m(Ee,[["render",Ge],["__scopeId","data-v-0e35d146"]]);const Ue=W({history:U("/"),routes:[{path:"/",name:"home",component:We},{path:"/:id",name:"details",component:()=>be(()=>import("./BookDetails.44a4f076.js"),["assets/BookDetails.44a4f076.js","assets/BookDetails.3d869abf.css","assets/vendor.778c391c.js"])}]});b.add(Q);b.add(Y);b.add(Z);b.add(J);const y=X(ye);y.component("font-awesome-icon",ee);y.use(te());y.use(Ue);y.use(q.axios);y.mount("#app");export{m as _,N as u};
